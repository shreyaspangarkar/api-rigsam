<!--<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Surety Details</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            text-align: left;
        }
        
        th, td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        
    </style>
</head>
<body>

<h1>सैनी को-ऑपरे टव<br>ट ए ड<br>डट सोसायट<br>ल.<br>2420-21, बाजार कमरा बंगश, द रया गंज , नई द ल -110002</h1>

<div class="container">
    <input type="text" id="suretyIdInput" placeholder="Enter Surety ID">
    <button onclick="fetchLoanData()">Get Loan Details</button>
</div>

<div class="section2">
    <h2>Loan Details</h2>
    <table id="loanTable">
        <thead>
            <tr>
                <th>Sr No.</th>
                <th>Name</th>
                <th>Loan Date</th>
                <th>Loan Amt</th>
                <th>Inst Amt</th>
                <th>Int Amt</th>
                <th>P Int Amt</th>
                <th>Stage</th>
            </tr>
        </thead>
        <tbody id="loanData">
           
        </tbody>
    </table>
</div>

<script>
// Function to fetch loan data from the API based on user input
async function fetchLoanData() {
    const suretyId = document.getElementById('suretyIdInput').value.trim();
    
    if (!suretyId) {
      alert("Please enter a Surety ID");
      return;
    }

    const response = await fetch(`/loans?surety_id=${suretyId}`);
    
    if (!response.ok) {
      const errorData = await response.json();
      alert(errorData.error || 'Failed to fetch loan data');
      return;
    }

    const data = await response.json();
    
    // Clear previous data
    const loanDataElement = document.getElementById('loanData');
    loanDataElement.innerHTML = '';

    // Populate the loan data table with the fetched data
    data.forEach((loanDetail, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${index + 1}</td>
          <td>${loanDetail.member_name} (${loanDetail.member_id}) <br> ${loanDetail.gaurdian_relation} ${loanDetail.gaurdian_name} <br> ${loanDetail.present_add1} <br> ${loanDetail.pin}</td>
          <td>${new Date(loanDetail.start_date).toLocaleDateString()}</td>
          <td>${loanDetail.dr_loan_amt}</td>
          <td>${loanDetail.inst_amt}</td>
          <td>${loanDetail.int_amt}</td>
          <td>${loanDetail.pnl_int_amt}</td>
          <td>${loanDetail.stage_name}</td>`;
      
      loanDataElement.appendChild(row);
    });
}

// Call the function on page load if needed (optional)
window.onload = () => {
   // Optional initial call or setup can go here
};

</script>

</body>
</html>

















<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Surety Details</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            text-align: center;
        }
        
        h1 {
            font-size: 36px;
            margin-bottom: 20px;
        }
        
        .container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            text-align: left;
            display: none; /* Hide table initially */
        }
        
        th, td {
            border: 1px solid #000;
            padding: 8px;
            text-align: left;
        }
        
        th {
            background-color: #f2f2f2;
        }
        
    </style>
</head>
<body>

<h1>सैनी को-ऑपरे टव<br>ट ए ड<br>डट सोसायट<br>ल.<br>2420-21, बाजार कमरा बंगश, द रया गंज , नई द ल -110002</h1>

<div class="container">
    <input type="text" id="suretyIdInput" placeholder="Enter Surety ID">
    <button onclick="fetchLoanData()">Get Loan Details</button>
</div>

<div class="section2">
    <h2>Loan Surety Details</h2>
    <table id="loanTable">
        <thead>
            <tr>
                <th>Sr No.</th>
                <th>Name</th>
                <th>Loan Date</th>
                <th>Loan Amt</th>
                <th>Inst Amt</th>
                <th>Int Amt</th>
                <th>P Int Amt</th>
                <th>Stage</th>
            </tr>
        </thead>
        <tbody id="loanData">
            
        </tbody>
    </table>
</div>

<script>
// Function to fetch loan data from the API based on user input
async function fetchLoanData() {
    const suretyId = document.getElementById('suretyIdInput').value.trim();
    
    if (!suretyId) {
      alert("Please enter a Surety ID");
      return;
    }

    const response = await fetch(`/loans?surety_id=${suretyId}`);
    
    if (!response.ok) {
      const errorData = await response.json();
      alert(errorData.error || 'Failed to fetch loan data');
      return;
    }

    const data = await response.json();
    
    // Clear previous data
    const loanDataElement = document.getElementById('loanData');
    loanDataElement.innerHTML = '';

    // Check if there are any loan details to display
    if (data.length === 0) {
      alert("No loan details found for the provided Surety ID.");
      document.getElementById('loanTable').style.display = 'none'; // Hide table if no data
      return;
    }

    // Populate the loan data table with the fetched data
    data.forEach((loanDetail, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${index + 1}</td>
          <td>${loanDetail.member_name} (${loanDetail.member_id}) <br> ${loanDetail.gaurdian_relation} ${loanDetail.gaurdian_name} <br> ${loanDetail.present_add1} <br> ${loanDetail.pin}</td>
          <td>${new Date(loanDetail.start_date).toLocaleDateString()}</td>
          <td>${loanDetail.dr_loan_amt}</td>
          <td>${loanDetail.inst_amt}</td>
          <td>${loanDetail.int_amt}</td>
          <td>${loanDetail.pnl_int_amt}</td>
          <td>${loanDetail.stage_name}</td>`;
      
      loanDataElement.appendChild(row);
    });

    // Show the table after populating it with data
    document.getElementById('loanTable').style.display = 'table';
}

// Call the function on page load if needed (optional)
window.onload = () => {
   // Optional initial call or setup can go here
};

</script>

</body>
</html>-->




















<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Surety Details</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            text-align: center;
            background-color: #f4f4f9;
            color: #333;
            overflow-x: hidden; /* Prevent horizontal scrolling */
        }

        h1 {
            font-size: 36px;
            margin-bottom: 20px;
            color: #4a4a4a;
            animation: fadeIn 1s ease-in-out; /* Fade-in effect */
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .container {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        input[type="text"] {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            width: 250px;
            transition: border-color 0.3s ease, box-shadow 0.3s ease; /* Smooth transition */
        }

        input[type="text"]:focus {
            border-color: #007bff;
            outline: none;
            box-shadow: 0 0 5px rgba(0,123,255,0.5); /* Focus shadow effect */
        }

        button {
            padding: 10px 15px;
            border-radius: 5px;
            border: none;
            background-color: #007bff;
            color: white;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease; /* Button hover effects */
        }

        button:hover {
            background-color: #0056b3;
            transform: scale(1.05); /* Scale effect on hover */
        }

        .section2 {
            margin-top: 40px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            text-align: left;
            display: none; /* Hide table initially */
        }

        th, td {
            border-bottom: 1px solid #ddd;
            padding: 12px;
        }

        th {
            background-color: #007bff;
            color: white;
        }

        tr:hover {
            background-color: #f1f1f1; /* Highlight row on hover */
        }

        /* Advanced CSS Features */
        .container:hover .button {
          animation-name: pulse; /* Pulse animation on button hover */
          animation-duration: 0.6s; 
          animation-timing-function: ease-in-out; 
          animation-iteration-count: infinite; 
          animation-direction: alternate; 
        }

        @keyframes pulse {
          from { transform: scale(1); }
          to { transform: scale(1.1); }
        }

        @media (max-width: 600px) {
            h1 {
                font-size: 28px; /* Responsive font size */
                animation-duration: 2s; /* Longer fade-in for smaller screens */
                animation-delay: 0.5s; /* Delay for better visibility */
                animation-fill-mode: forwards; /* Keep final state after animation ends */
            }
            
            input[type="text"] {
                width: calc(100% - 20px); /* Full width on small screens */
                margin-bottom: 10px; /* Space below input */
                box-shadow:none; /* Reset shadow on small screens */
             }
             
             button {
                width: 100%; /* Full width button on small screens */
                margin-top: 10px; /* Space above button */
             }
             
             table {
                font-size: 14px; /* Smaller font size for tables on small screens */
                overflow-x:auto; /* Enable horizontal scrolling for tables */
                display:block; /* Make table responsive */
                max-width:none; /* Remove max-width restriction */
                white-space:no-wrap; /* Prevent text wrapping in cells */
             }
         }
    </style>
</head>
<body>

<h1>सैनी को-ऑपरे टव<br>ट ए ड<br>डट सोसायट<br>ल.<br>2420-21, बाजार कमरा बंगश, द रया गंज , नई द ल -110002</h1>

<div class="container">
    <input type="text" id="suretyIdInput" placeholder="Enter Surety ID">
    <button onclick="fetchLoanData()">Get Loan Details</button>
</div>

<div class="section2">
    <h2>Loan Surety Details</h2>
    <table id="loanTable">
        <thead>
            <tr>
                <th>Sr No.</th>
                <th>Name</th>
                <th>Loan Date</th>
                <th>Loan Amt</th>
                <th>Inst Amt</th>
                <th>Int Amt</th>
                <th>P Int Amt</th>
                <th>Stage</th>
            </tr>
        </thead>
        <tbody id="loanData">
            <!-- Data will be populated here -->
        </tbody>
    </table>
</div>

<script>
// Function to fetch loan data from the API based on user input
async function fetchLoanData() {
    const suretyId = document.getElementById('suretyIdInput').value.trim();
    
    if (!suretyId) {
      alert("Please enter a Surety ID");
      return;
    }

    const response = await fetch(`/loans?surety_id=${suretyId}`);
    
    if (!response.ok) {
      const errorData = await response.json();
      alert(errorData.error || 'Failed to fetch loan data');
      return;
    }

    const data = await response.json();
    
    // Clear previous data
    const loanDataElement = document.getElementById('loanData');
    loanDataElement.innerHTML = '';

    // Check if there are any loan details to display
    if (data.length === 0) {
      alert("No loan details found for the provided Surety ID.");
      document.getElementById('loanTable').style.display = 'none'; // Hide table if no data
      return;
    }

    // Populate the loan data table with the fetched data
    data.forEach((loanDetail, index) => {
      const row = document.createElement('tr');
      row.innerHTML = `
          <td>${index + 1}</td>
          <td>${loanDetail.member_name} (${loanDetail.member_id})<br>${loanDetail.gaurdian_relation} ${loanDetail.gaurdian_name}<br>${loanDetail.present_add1}<br>${loanDetail.pin}</td>
          <td>${new Date(loanDetail.start_date).toLocaleDateString()}</td>
          <td>${loanDetail.dr_loan_amt}</td>
          <td>${loanDetail.inst_amt}</td>
          <td>${loanDetail.int_amt}</td>
          <td>${loanDetail.pnl_int_amt}</td>
          <td>${loanDetail.stage_name}</td>`;
      
      loanDataElement.appendChild(row);
    });

    // Show the table after populating it with data
    document.getElementById('loanTable').style.display = 'table';
}

// Call the function on page load if needed (optional)
window.onload = () => {
   // Optional initial call or setup can go here
};

</script>

</body>
</html>
